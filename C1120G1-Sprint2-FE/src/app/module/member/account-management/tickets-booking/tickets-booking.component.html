<div class="container-fluid">
  <div class="row">
    <!--    account-manager start-->
    <div class=" container-fluid  col-lg-4" style="background-color:rgba(168,162,161,0.15)">
      <app-nav-bar-account-manager></app-nav-bar-account-manager>
    </div>
    <!--    account-manager end-->
    <div class="container-fluid col-lg-8">
      <!--            <div class="card" style="border-style: solid; border-color: coral">-->
      <div class="card-title">VÉ ĐÃ ĐẶT</div>
      <div class="card-body">
        <div>

          <table class="table table-hover">
            <thead>
            <tr>
              <th>STT</th>
              <th>Hình Ảnh</th>
              <th>Tên Phim</th>
              <th>Ngày Đặt</th>
              <th>Tổng Tiền</th>
              <th>Trạng Thái</th>
              <th>Chức Năng</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let booking of ticketBooking; let i = index">
              <td>{{i + 1}}</td>
              <td> <img [src]="booking.movieTicket.movie.posterMovie" width="80" height="̉60"></td>
              <td>{{booking.movieTicket.movie.movieName}}</td>
              <td>{{booking.timeCreate | date:'dd/MM/yyyy'}}</td>
              <td>{{booking.movieTicket.ticketPrice | currency:'VND':true}}</td>
        <td>
          <span *ngIf="booking.ticketStatus.ticketStatusId == 1" class="badge badge-primary">{{booking.ticketStatus.ticketStatusName}}</span>
          <span *ngIf="booking.ticketStatus.ticketStatusId == 2" class="badge badge-success">{{booking.ticketStatus.ticketStatusName}}</span>
          <span *ngIf="booking.ticketStatus.ticketStatusId == 3" class="badge badge-pill badge-danger">{{booking.ticketStatus.ticketStatusName}}</span>
        </td>
              <td >
                <button *ngIf="booking.ticketStatus.ticketStatusId == 1;else disabled "
                        (click)="deleteId = booking.ticketId; deleteTitle = booking.movieTicket.movie.movieName"
                        class="btn btn-danger" data-toggle="modal" data-target="#exampleModal" >Hủy</button>
                <ng-template #disabled >
                  <button class="btn btn-danger" data-toggle="modal" disabled data-target="#exampleModalCenter">Hủy</button>
                </ng-template>
              </td>

            </tr>
            </tbody>
          </table>
          <nav aria-label="..." style="float: right">
            <ul class="pagination">
              <li class="page-item disabled">
                <span class="page-link">Đầu </span>
              </li>
              <li class="page-item"><a class="page-link" href="#">1</a></li>
              <li class="page-item active">
                             <span class="page-link">2
                                 <span class="sr-only">(current)</span>
                             </span>
              </li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item">
                <a class="page-link" href="#">Sau</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
      <!--            </div>-->
      <br>

    </div>
  </div>
</div>
<!--Modal delete start-->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <app-ticket-cancel [deleteId]="deleteId" [deleteTitle]="deleteTitle"
                               (deleteComplete)="deleteSuccess()"></app-ticket-cancel>
      </div>
    </div>
  </div>
</div>
<!--modal delete end-->
